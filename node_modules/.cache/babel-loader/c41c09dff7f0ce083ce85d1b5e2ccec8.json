{"ast":null,"code":"import _regeneratorRuntime from\"F:/College/0.Project/thamza-react-js-landing-page-template/Thamza_React_v1.0.0/Landing/BDUP/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/College/0.Project/thamza-react-js-landing-page-template/Thamza_React_v1.0.0/Landing/BDUP/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/College/0.Project/thamza-react-js-landing-page-template/Thamza_React_v1.0.0/Landing/BDUP/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useForm}from'react-hook-form';import{Form,Button}from'react-bootstrap';import axios from'axios';import{BASE_API_URL}from'../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),successMessage=_useState2[0],setSuccessMessage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userDetails=_useState6[0],setUserDetails=_useState6[1];var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(data);_context.prev=1;_context.next=4;return axios.post(\"\".concat(BASE_API_URL,\"/login\"),data);case 4:response=_context.sent;setSuccessMessage('User with the provided credentials found.');setErrorMessage('');setUserDetails(response.data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);// console.log(error);\nif(_context.t0.response){console.log('error',_context.t0.response.data);setErrorMessage(_context.t0.response.data);}case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Form,{className:\"input-form\",onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 offset-md-3\",children:[errorMessage?/*#__PURE__*/_jsx(\"p\",{className:\"errorMsg login-error\",children:errorMessage}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"successMsg\",children:successMessage})}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"first_name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"user_email\",placeholder:\"Enter your email address\",ref:register({required:'Email is required.',pattern:{value:/^[^@ ]+@[^@ ]+\\.[^@ .]{2,}$/,message:'Email is not valid.'}}),className:\"\".concat(errors.user_email?'input-error':'')}),errors.user_email&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMsg\",children:errors.user_email.message})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"user_password\",placeholder:\"Choose a password\",ref:register({required:'Password is required.',minLength:{value:6,message:'Password should have at-least 6 characters.'}}),className:\"\".concat(errors.user_password?'input-error':'')}),errors.user_password&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMsg\",children:errors.user_password.message})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Check Login\"})]})});};export default Login;","map":{"version":3,"sources":["F:/College/0.Project/thamza-react-js-landing-page-template/Thamza_React_v1.0.0/Landing/BDUP/src/component/1Login.js"],"names":["React","useState","useForm","Form","Button","axios","BASE_API_URL","Login","register","handleSubmit","errors","successMessage","setSuccessMessage","errorMessage","setErrorMessage","userDetails","setUserDetails","onSubmit","data","console","log","post","response","required","pattern","value","message","user_email","minLength","user_password"],"mappings":"ugBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,KAA6B,oBAA7B,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,cACyBL,OAAO,EADhC,CACVM,QADU,UACVA,QADU,CACAC,YADA,UACAA,YADA,CACcC,MADd,UACcA,MADd,eAE0BT,QAAQ,CAAC,EAAD,CAFlC,wCAEXU,cAFW,eAEKC,iBAFL,8BAGsBX,QAAQ,CAAC,EAAD,CAH9B,yCAGXY,YAHW,eAGGC,eAHH,8BAIoBb,QAAQ,CAAC,EAAD,CAJ5B,yCAIXc,WAJW,eAIEC,cAJF,eAMlB,GAAMC,CAAAA,QAAQ,0FAAG,iBAAOC,IAAP,+HACfC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EADe,sCAIUb,CAAAA,KAAK,CAACgB,IAAN,WAAcf,YAAd,WAAoCY,IAApC,CAJV,QAIPI,QAJO,eAKbV,iBAAiB,CAAC,2CAAD,CAAjB,CACAE,eAAe,CAAC,EAAD,CAAf,CACAE,cAAc,CAACM,QAAQ,CAACJ,IAAV,CAAd,CAPa,iFASb;AACA,GAAI,YAAMI,QAAV,CAAoB,CAClBH,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqB,YAAME,QAAN,CAAeJ,IAApC,EACAJ,eAAe,CAAC,YAAMQ,QAAN,CAAeJ,IAAhB,CAAf,CACD,CAbY,qEAAH,kBAARD,CAAAA,QAAQ,4CAAd,CAiBA,mBACE,KAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAER,YAAY,CAACQ,QAAD,CAAnD,uBACE,aAAK,SAAS,CAAC,sBAAf,WACGJ,YAAY,cACX,UAAG,SAAS,CAAC,sBAAb,UAAqCA,YAArC,EADW,cAGX,kCACE,UAAG,SAAS,CAAC,YAAb,UAA2BF,cAA3B,EADF,EAJJ,cAoBE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,YAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,oBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,YAFP,CAGE,WAAW,CAAC,0BAHd,CAIE,GAAG,CAAEH,QAAQ,CAAC,CACZe,QAAQ,CAAE,oBADE,CAEZC,OAAO,CAAE,CACPC,KAAK,CAAE,6BADA,CAEPC,OAAO,CAAE,qBAFF,CAFG,CAAD,CAJf,CAWE,SAAS,WAAKhB,MAAM,CAACiB,UAAP,CAAoB,aAApB,CAAoC,EAAzC,CAXX,EAFF,CAeGjB,MAAM,CAACiB,UAAP,eACC,UAAG,SAAS,CAAC,UAAb,UAAyBjB,MAAM,CAACiB,UAAP,CAAkBD,OAA3C,EAhBJ,GApBF,cAwCE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,UAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,uBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,eAFP,CAGE,WAAW,CAAC,mBAHd,CAIE,GAAG,CAAElB,QAAQ,CAAC,CACZe,QAAQ,CAAE,uBADE,CAEZK,SAAS,CAAE,CACTH,KAAK,CAAE,CADE,CAETC,OAAO,CAAE,6CAFA,CAFC,CAAD,CAJf,CAWE,SAAS,WAAKhB,MAAM,CAACmB,aAAP,CAAuB,aAAvB,CAAuC,EAA5C,CAXX,EAFF,CAeGnB,MAAM,CAACmB,aAAP,eACC,UAAG,SAAS,CAAC,UAAb,UAAyBnB,MAAM,CAACmB,aAAP,CAAqBH,OAA9C,EAhBJ,GAxCF,cA4DE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,yBA5DF,GADF,EADF,CAoED,CA3FD,CA6FA,cAAenB,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { BASE_API_URL } from '../utils/constants';\r\n\r\nconst Login = () => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [userDetails, setUserDetails] = useState('');\r\n\r\n  const onSubmit = async (data) => {\r\n    console.log(data);\r\n\r\n    try {\r\n      const response = await axios.post(`${BASE_API_URL}/login`, data);\r\n      setSuccessMessage('User with the provided credentials found.');\r\n      setErrorMessage('');\r\n      setUserDetails(response.data);\r\n    } catch (error) {\r\n      // console.log(error);\r\n      if (error.response) {\r\n        console.log('error', error.response.data);\r\n        setErrorMessage(error.response.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form className=\"input-form\" onSubmit={handleSubmit(onSubmit)}>\r\n      <div className=\"col-md-6 offset-md-3\">\r\n        {errorMessage ? (\r\n          <p className=\"errorMsg login-error\">{errorMessage}</p>\r\n        ) : (\r\n          <div>\r\n            <p className=\"successMsg\">{successMessage}</p>\r\n\r\n            {/* {userDetails && (\r\n              <div className=\"user-details\">\r\n                <p>Following are the user details:</p>\r\n                <div>First name: {userDetails.first_name}</div>\r\n                <div>Last name: {userDetails.last_name}</div>\r\n                <div>Email: {userDetails.user_email}</div>\r\n                <div>Country: {userDetails.country}</div>\r\n                <div>State: {userDetails.state}</div>\r\n                <div>City: {userDetails.city}</div>\r\n              </div>\r\n            )} */}\r\n          </div>\r\n        )}\r\n        <Form.Group controlId=\"first_name\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            name=\"user_email\"\r\n            placeholder=\"Enter your email address\"\r\n            ref={register({\r\n              required: 'Email is required.',\r\n              pattern: {\r\n                value: /^[^@ ]+@[^@ ]+\\.[^@ .]{2,}$/,\r\n                message: 'Email is not valid.'\r\n              }\r\n            })}\r\n            className={`${errors.user_email ? 'input-error' : ''}`}\r\n          />\r\n          {errors.user_email && (\r\n            <p className=\"errorMsg\">{errors.user_email.message}</p>\r\n          )}\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            name=\"user_password\"\r\n            placeholder=\"Choose a password\"\r\n            ref={register({\r\n              required: 'Password is required.',\r\n              minLength: {\r\n                value: 6,\r\n                message: 'Password should have at-least 6 characters.'\r\n              }\r\n            })}\r\n            className={`${errors.user_password ? 'input-error' : ''}`}\r\n          />\r\n          {errors.user_password && (\r\n            <p className=\"errorMsg\">{errors.user_password.message}</p>\r\n          )}\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Check Login\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}